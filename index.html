<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 3D Shape with Trail Effect</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #fff;
        }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer, shape, particles = [];

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            const geometry = new THREE.Geometry();
            // Define vertices of the irregular shape
            geometry.vertices.push(
                new THREE.Vector3(-1, 1, 1),
                new THREE.Vector3(1, 1, 1),
                new THREE.Vector3(1, -1, 1),
                new THREE.Vector3(-1, -1, 1),
                new THREE.Vector3(-1, 1, -1),
                new THREE.Vector3(1, 1, -1),
                new THREE.Vector3(1, -1, -1),
                new THREE.Vector3(-1, -1, -1)
            );
            // Define faces of the irregular shape
            geometry.faces.push(
                new THREE.Face3(0, 1, 2),
                new THREE.Face3(0, 2, 3),
                new THREE.Face3(4, 5, 6),
                new THREE.Face3(4, 6, 7),
                new THREE.Face3(0, 4, 7),
                new THREE.Face3(0, 7, 3),
                new THREE.Face3(1, 5, 6),
                new THREE.Face3(1, 6, 2),
                new THREE.Face3(0, 1, 5),
                new THREE.Face3(0, 5, 4),
                new THREE.Face3(3, 2, 6),
                new THREE.Face3(3, 6, 7)
            );

            const material = new THREE.MeshBasicMaterial({ color: 0x000000, wireframe: true });
            shape = new THREE.Mesh(geometry, material);
            scene.add(shape);

            camera.position.z = 5;

            document.addEventListener('mousemove', onMouseMove, false);

            animate();
        }

        function onMouseMove(event) {
            shape.rotation.x = event.clientY / window.innerHeight * 2 * Math.PI;
            shape.rotation.y = event.clientX / window.innerWidth * 2 * Math.PI;
            generateParticles();
        }

        function generateParticles() {
            const particleGeometry = new THREE.SphereGeometry(0.05, 32, 32);
            const particleMaterial = new THREE.MeshBasicMaterial({ color: 0x000000 });
            const particle = new THREE.Mesh(particleGeometry, particleMaterial);

            particle.position.set(
                (Math.random() - 0.5) * 10,
                (Math.random() - 0.5) * 10,
                (Math.random() - 0.5) * 10
            );

            scene.add(particle);
            particles.push(particle);

            setTimeout(() => {
                scene.remove(particle);
                particles = particles.filter(p => p !== particle);
            }, 2000);
        }

        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        init();
    </script>
</body>
</html>
